@import "../../patternfly-utilities";

.pf-c-tabs-container {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}

// Tabs
.pf-c-tabs {
  // Primary Tab Items
  --pf-c-tabs__item--BackgroundColor: var(--pf-global--BackgroundColor--100);
  --pf-c-tabs__item--m-current--Color: var(--pf-global--active-color--100);
  --pf-c-tabs__item--hover--BoxShadowColor: var(--pf-global--BorderColor--light);
  --pf-c-tabs__item--hover--BoxShadow: inset 0 pf-size-prem(2) 0 0 var(--pf-c-tabs__item--hover--BoxShadowColor);
  --pf-c-tabs__item--m-current--BoxShadow: inset 0 pf-size-prem(2) 0 0 var(--pf-c-tabs__item--m-current--Color);
  --pf-c-tabs__item--BorderColor: var(--pf-global--BorderColor--light-200);
  --pf-c-tabs__item--BorderTopWidth: var(--pf-global--BorderWidth--sm);
  --pf-c-tabs__item--BorderRightWidth: var(--pf-global--BorderWidth--sm);
  --pf-c-tabs__item--BorderBottomWidth: var(--pf-global--BorderWidth--sm);
  --pf-c-tabs__item--BorderLeftWidth: var(--pf-global--BorderWidth--sm);
  --pf-c-tabs__item--m-current--ZIndex: var(--pf-global--ZIndex--sm);

  // Secondary Tab Items
  --pf-c-tabs__item--hover--Color: var(--pf-global--Color--dark-200);
  --pf-c-tabs__item--ZIndex: var(--pf-global--ZIndex--xs);

  // Tab Buttons
  --pf-c-tabs__button--PaddingTop: var(--pf-global--spacer--sm);
  --pf-c-tabs__button--PaddingRight: var(--pf-global--spacer--sm);
  --pf-c-tabs__button--PaddingBottom: var(--pf-global--spacer--sm);
  --pf-c-tabs__button--PaddingLeft: var(--pf-global--spacer--sm);

  // Scroll Buttons
  --pf-c-tabs__scroll-button--Width: var(--pf-global--spacer--xl);
  --pf-c-tabs__scroll-button--BackgroundColor: var(--pf-global--BackgroundColor--100);
  --pf-c-tabs__scroll-button--BorderColor: var(--pf-global--BorderColor--light-200);
  --pf-c-tabs__scroll-button--BorderTopWidth: var(--pf-global--BorderWidth--sm);
  --pf-c-tabs__scroll-button--BorderRightWidth: var(--pf-global--BorderWidth--sm);
  --pf-c-tabs__scroll-button--BorderBottomWidth: var(--pf-global--BorderWidth--sm);
  --pf-c-tabs__scroll-button--BorderLeftWidth: var(--pf-global--BorderWidth--sm);
  --pf-c-tabs__scroll-button--ZIndex: var(--pf-global--ZIndex--md);

  position: relative;
  display: inline-flex;

  // Overlap secondary tab border
  & ~ .pf-c-tabs.pf-m-tabs-secondary {
    margin-top: -1px;
  }

  // Filled style
  &.pf-m-fill {
    display: flex;

    .pf-c-tabs__list,
    .pf-c-tabs__item {
      flex: 1;
    }

    .pf-c-tabs__item {
      white-space: nowrap;

      &:first-child {
        border-left: none;
      }

      &:last-child {
        border-right: none;
      }

      .pf-c-tabs__button {
        width: 100%;
      }
    }
  }

  // Scroll button modifiers
  &.pf-m-start .pf-c-tabs__scroll-button:nth-of-type(1),
  &.pf-m-end .pf-c-tabs__scroll-button:nth-of-type(2) {
    display: block;
  }

  // Current state
  &.pf-m-start-current .pf-c-tabs__scroll-button:nth-of-type(1),
  &.pf-m-end-current .pf-c-tabs__scroll-button:nth-of-type(2) {
    padding-top: var(--pf-c-tabs__item--BorderTopWidth);
    margin-top: calc(-1 * var(--pf-c-tabs__item--BorderTopWidth));
    box-shadow: var(--pf-c-tabs__item--m-current--BoxShadow);
  }

  // Hover state
  &:not(.pf-m-start-current) .pf-c-tabs__scroll-button:nth-of-type(1):hover,
  &:not(.pf-m-end-current) .pf-c-tabs__scroll-button:nth-of-type(2):hover {
    padding-top: calc(var(--pf-c-tabs__button--PaddingTop) + var(--pf-c-tabs__item--BorderTopWidth));
    margin-top: calc(-1 * var(--pf-c-tabs__item--BorderTopWidth));
    box-shadow: var(--pf-c-tabs__item--hover--BoxShadow);
  }
}

// Tab List
.pf-c-tabs__list {
  display: flex;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

// Tab items
.pf-c-tabs__item {
  flex: none;
  border: solid var(--pf-c-tabs__item--BorderColor);
  border-width: var(--pf-c-tabs__item--BorderTopWidth) 0 var(--pf-c-tabs__item--BorderBottomWidth) var(--pf-c-tabs__item--BorderLeftWidth);

  &:last-child {
    border-right-width: var(--pf-c-tabs__item--BorderRightWidth);
  }

  // Current state
  &.pf-m-current {
    z-index: var(--pf-c-tabs__item--m-current--ZIndex);
    border-bottom-color: var(--pf-c-tabs__item--BackgroundColor);
    border-bottom-width: var(--pf-c-tabs__item--BorderBottomWidth);

    &::before {
      display: block;
      height: pf-size-prem(2);
      margin-top: calc(-1 * var(--pf-c-tabs__item--BorderTopWidth));
      content: "";
      box-shadow: var(--pf-c-tabs__item--m-current--BoxShadow);
    }

    .pf-c-tabs__button {
      color: var(--pf-c-tabs__item--m-current--Color);
    }
  }

  // Button Hover state
  &:not(.pf-m-current):hover .pf-c-tabs__button {
    padding-top: calc(var(--pf-c-tabs__button--PaddingTop) + var(--pf-c-tabs__item--BorderTopWidth));
    margin-top: calc(-1 * var(--pf-c-tabs__item--BorderTopWidth));
    box-shadow: var(--pf-c-tabs__item--hover--BoxShadow);
  }
}

// Secondary tabs
.pf-c-tabs.pf-m-tabs-secondary {
  .pf-c-tabs__item {
    z-index: var(--pf-c-tabs__item--ZIndex);
    border-width: inherit none none;

    // Hover state
    &:not(.pf-m-current):hover .pf-c-tabs__button {
      color: var(--pf-c-tabs__item--hover--Color);
    }
  }

  // Different styling for secondary tab buttons
  .pf-c-tabs__button {
    box-shadow: none;

    &:hover {
      box-shadow: none;
    }
  }
}

// Tab buttons
.pf-c-tabs__button {
  padding-top: var(--pf-c-tabs__button--PaddingTop);
  padding-right: var(--pf-c-tabs__button--PaddingRight);
  padding-bottom: var(--pf-c-tabs__button--PaddingBottom);
  padding-left: var(--pf-c-tabs__button--PaddingLeft);
  user-select: none;
  border: initial;
}

// Directional scroll buttons
.pf-c-tabs__scroll-button {
  position: absolute;
  top: 0;
  bottom: 0;
  z-index: var(--pf-c-tabs__scroll-button--ZIndex);
  display: none;
  flex: none;
  width: var(--pf-c-tabs__scroll-button--Width);
  line-height: 1;
  background-color: var(--pf-c-tabs__scroll-button--BackgroundColor);
  border: solid var(--pf-c-tabs__item--BorderColor);
  border-width: var(--pf-c-tabs__scroll-button--BorderTopWidth) var(--pf-c-tabs__scroll-button--BorderRightWidth) var(--pf-c-tabs__scroll-button--BorderBottomWidth) var(--pf-c-tabs__scroll-button--BorderLeftWidth);
  border-radius: initial;

  // Right scroll button
  &:nth-of-type(2) {
    right: 0;
  }
}
