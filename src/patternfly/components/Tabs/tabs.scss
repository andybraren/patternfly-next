@import "../../patternfly-utilities";

.pf-c-tabs-container {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}

// Tabs
.pf-c-tabs {
  /* stylelint-disable */

  // Primary Tab Items
  --pf-c-tabs__item--BackgroundColor:       var(--pf-global--BackgroundColor--100);
  --pf-c-tabs__item--current--Color:        var(--pf-global--active-color--100);
  --pf-c-tabs__item--hover--BoxShadowColor: #8b8d8f;
  --pf-c-tabs__item--BorderWidth:           var(--pf-global--BorderWidth--sm);
  --pf-c-tabs__item--BorderColor:           #ededed;

  // Secondary Tab Items
  --pf-c-tabs__item--hover--Color: var(--pf-global--Color--dark-200);

  // Tab Buttons
  --pf-c-tabs__button--PaddingTop:    var(--pf-global--spacer--sm);
  --pf-c-tabs__button--PaddingRight:  var(--pf-global--spacer--sm);
  --pf-c-tabs__button--PaddingBottom: var(--pf-global--spacer--sm);
  --pf-c-tabs__button--PaddingLeft:   var(--pf-global--spacer--sm);

  // Scroll Buttons
  --pf-c-tabs__scroll-button--Width:           var(--pf-global--spacer--xl);
  --pf-c-tabs__scroll-button--BackgroundColor: var(--pf-global--BackgroundColor--light-100);
  --pf-c-tabs__scroll-button--BorderColor:     #ededed;

  /* stylelint-enable */

  position: relative;
  display: inline-flex;

  // Overlap secondary tab border
  & ~ .pf-c-tabs.pf-m-tabs-secondary {
    margin-top: -1px;
  }

  // Filled style
  &.pf-m-fill {
    display: flex;
    width: 100%;

    .pf-c-tabs__list,
    .pf-c-tabs__item {
      flex: 1;
    }

    .pf-c-tabs__item {
      white-space: nowrap;

      &:first-child {
        border-left: none;
      }

      &:last-child {
        border-right: none;
      }

      .pf-c-tabs__button {
        width: 100%;
      }
    }
  }

  // Scroll button modifiers
  &.pf-m-start .pf-c-tabs__scroll-button:nth-of-type(1) {
    display: block;
  }

  &.pf-m-end .pf-c-tabs__scroll-button:nth-of-type(2) {
    display: block;
  }

  // Current state
  &.pf-m-start-current .pf-c-tabs__scroll-button:nth-of-type(1),
  &.pf-m-end-current .pf-c-tabs__scroll-button:nth-of-type(2) {
    border-top-color: var(--pf-c-tabs__item--current--Color);
    box-shadow: inset 0 2px 0 0 var(--pf-c-tabs__item--current--Color);
  }

  // Hover/Focus state
  &:not(.pf-m-start-current) .pf-c-tabs__scroll-button:nth-of-type(1):hover,
  &:not(.pf-m-start-current) .pf-c-tabs__scroll-button:nth-of-type(1):focus-within,
  &:not(.pf-m-end-current) .pf-c-tabs__scroll-button:nth-of-type(2):hover,
  &:not(.pf-m-end-current) .pf-c-tabs__scroll-button:nth-of-type(2):focus-within {
    border-top-color: var(--pf-c-tabs__item--hover--BoxShadowColor);
    box-shadow: inset 0 2px 0 0 var(--pf-c-tabs__item--hover--BoxShadowColor);
  }
}

// Tab List
.pf-c-tabs__list {
  display: flex;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

// Tab Items
.pf-c-tabs__item {
  flex: none;
  border-top: var(--pf-c-tabs__item--BorderWidth) solid var(--pf-c-tabs__item--BorderColor);
  border-bottom: var(--pf-c-tabs__item--BorderWidth) solid var(--pf-c-tabs__item--BorderColor);
  border-left: var(--pf-c-tabs__item--BorderWidth) solid var(--pf-c-tabs__item--BorderColor);

  &:last-child {
    border-right: var(--pf-c-tabs__item--BorderWidth) solid var(--pf-c-tabs__item--BorderColor);
  }

  &.pf-m-current {
    z-index: 1;
    border-top-color: var(--pf-c-tabs__item--current--Color);
    border-bottom: var(--pf-c-tabs__item--BorderWidth) solid var(--pf-c-tabs__item--BackgroundColor);

    .pf-c-tabs__button {
      color: var(--pf-c-tabs__item--current--Color);
      box-shadow: inset 0 2px 0 0 var(--pf-c-tabs__item--current--Color);
    }
  }

  // Item Hover/Focus state
  &:not(.pf-m-current):hover,
  &:not(.pf-m-current):focus-within {
    border-top-color: var(--pf-c-tabs__item--hover--BoxShadowColor);
  }

  // Button Hover/Focus state
  &:not(.pf-m-current):hover .pf-c-tabs__button,
  &:not(.pf-m-current):focus-within .pf-c-tabs__button {
    box-shadow: inset 0 2px 0 0 var(--pf-c-tabs__item--hover--BoxShadowColor);
  }
}

// Secondary tabs
.pf-c-tabs.pf-m-tabs-secondary {
  .pf-c-tabs__item {
    z-index: initial;
    border-top-color: var(--pf-c-tabs__item--BorderColor);
    border-right: none;
    border-bottom: none;
    border-left: none;

    // Hover/Focus state
    &:not(.pf-m-current):hover .pf-c-tabs__button,
    &:not(.pf-m-current):focus-within .pf-c-tabs__button {
      color: var(--pf-c-tabs__item--hover--Color);
    }
  }

  // Different styling for secondary tab buttons
  .pf-c-tabs__button {
    box-shadow: initial;
    box-shadow: none;

    &:hover,
    &:focus-within {
      box-shadow: none;
    }
  }
}

// Tab buttons
.pf-c-tabs__button {
  padding-top: var(--pf-c-tabs__button--PaddingTop);
  padding-right: var(--pf-c-tabs__button--PaddingRight);
  padding-bottom: var(--pf-c-tabs__button--PaddingBottom);
  padding-left: var(--pf-c-tabs__button--PaddingLeft);
  user-select: none;
  border: initial;
  outline: none;
}

// Directional scroll buttons
.pf-c-tabs__scroll-button {
  position: absolute;
  top: 0;
  bottom: 0;
  z-index: 2;
  display: none;
  flex: none;
  width: var(--pf-c-tabs__scroll-button--Width);
  line-height: 1;
  background-color: var(--pf-c-tabs__scroll-button--BackgroundColor);
  border: var(--pf-c-tabs__item--BorderWidth) solid var(--pf-c-tabs__scroll-button--BorderColor);
  border-radius: initial;

  // Right scroll button
  &:nth-of-type(2) {
    right: 0;
  }
}
